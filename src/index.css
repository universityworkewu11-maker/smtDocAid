@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
/* Tailwind base + custom layer tokens */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS variable bridge for legacy custom components (light) */
:root {
  --color-bg: #ffffff;
  --color-bg-alt: #f1f5f9;
  --color-fg: #0f172a;
  --color-fg-muted: #475569;
  --color-border: #e2e8f0;
  --color-primary: #6366f1;
  --color-danger: #ef4444;
  --color-radius: 1rem;
}
.dark {
  --color-bg: #0b1220;
  --color-bg-alt: #121b2e;
  --color-fg: #f1f5f9;
  --color-fg-muted: #94a3b8;
  --color-border: #1e293b;
  --color-primary: #818cf8;
  --color-danger: #f87171;
}

html { scroll-behavior: smooth; }
body { font-family: 'Inter', system-ui, sans-serif; background: var(--color-bg-alt); color: var(--color-fg); }
code { font-family: ui-monospace, Menlo, Monaco, monospace; }

/* Accessibility helpers */
.skip-link { position:absolute; left:-999px; top:auto; width:1px; height:1px; overflow:hidden; }
.skip-link:focus { position:static; width:auto; height:auto; background:#6366f1; color:#fff; padding:.5rem 1rem; border-radius:.5rem; }
.sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

/* Bridge legacy classes with Tailwind utility approach */
.user-display { @apply font-medium text-sm truncate max-w-[14ch]; }
.badge { @apply inline-flex items-center px-2 py-0.5 rounded-full bg-primary/10 text-primary text-xs font-semibold uppercase tracking-wide; }
.badge.success { @apply bg-emerald-500/15 text-emerald-500; }
.badge.danger { @apply bg-rose-500/15 text-rose-500; }
.btn { @apply inline-flex items-center justify-center rounded-lg font-medium transition focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed text-sm gap-2 px-4 h-10; }
.btn-primary { @apply bg-primary text-white hover:bg-primary-dark shadow; }
.btn-secondary { @apply bg-slate-200 text-slate-800 hover:bg-slate-300 dark:bg-slate-700 dark:text-slate-100 dark:hover:bg-slate-600; }
.btn-danger { @apply bg-rose-500 text-white hover:bg-rose-600; }
.btn-success { @apply bg-emerald-500 text-white hover:bg-emerald-600; }
.btn-light { @apply bg-white text-slate-700 hover:bg-slate-50 border border-slate-200; }
.btn-outline { @apply border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700; }

header { @apply backdrop-blur-md sticky top-0 z-50 border-b border-slate-200/70 dark:border-slate-800/70 bg-white/70 dark:bg-slate-900/60 shadow; }
.header-content { @apply max-w-7xl mx-auto flex items-center gap-6 px-6 py-4; }
.logo { @apply flex items-center font-extrabold text-xl text-primary-dark dark:text-primary no-underline; }
.nav-links { @apply flex items-center gap-4; }
.nav-link { @apply relative font-medium text-slate-700 dark:text-slate-200 px-3 py-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-800 transition; }
.nav-link::after { content:""; @apply absolute left-1/2 -translate-x-1/2 bottom-1 w-0 h-0.5 bg-primary transition-all; }
.nav-link:hover::after { @apply w-4/5; }

main { @apply max-w-7xl mx-auto px-6 py-8; }

/* Card modern */
.card { @apply bg-white dark:bg-slate-900/80 border border-slate-200 dark:border-slate-800 rounded-2xl shadow-sm p-8 relative overflow-hidden transition; }
.card:hover { @apply shadow-lg; }
.card-title { @apply text-xl font-semibold mb-4 tracking-tight; }
.muted { @apply text-slate-500 dark:text-slate-400 text-sm; }

/* Simple table styling */
table { @apply w-full border-collapse text-sm; }
th { @apply text-left font-semibold py-3 px-4 bg-slate-50 dark:bg-slate-800/60 text-slate-600 dark:text-slate-300; }
td { @apply py-3 px-4 border-t border-slate-100 dark:border-slate-800 align-top; }
tr:hover td { @apply bg-slate-50/50 dark:bg-slate-800/40; }

/* Responsive grid shortcuts */
.dashboard-grid { @apply grid gap-6 md:grid-cols-2 xl:grid-cols-4 mt-8; }
.dashboard-card { @apply card p-6 flex flex-col items-center text-center; }
.dashboard-card .value { @apply text-4xl font-extrabold; }

/* Forms */
.form-group { @apply flex flex-col gap-1 mb-4; }
.form-label { @apply text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400; }
.form-input, .form-select, .textarea-input { @apply w-full rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2 text-sm text-slate-800 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition; }
.textarea-input { @apply min-h-[120px] resize-y; }
.alert { @apply rounded-lg px-4 py-3 text-sm font-medium; }
.alert-danger { @apply bg-rose-500/10 text-rose-600 dark:text-rose-400 border border-rose-500/30; }
.alert-warning { @apply bg-amber-500/10 text-amber-600 dark:text-amber-400 border border-amber-500/30; }
.alert-info { @apply bg-sky-500/10 text-sky-600 dark:text-sky-400 border border-sky-500/30; }

/* Progress */
.progress-bar { @apply h-2 w-full bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden; }
.progress-fill { @apply h-full bg-primary transition-all; }

/* Report */
.report-content { @apply whitespace-pre-wrap text-sm leading-relaxed font-mono bg-slate-900/80 text-slate-100 p-4 rounded-lg overflow-x-auto; }

/* Questionnaire */
.question-text { @apply text-lg font-semibold mb-4; }
.radio-group, .checkbox-group { @apply flex flex-col gap-2 mt-2; }
.radio-option, .checkbox-option { @apply flex items-center gap-2 text-sm; }

/* Transcript */
.transcript { @apply max-h-80 overflow-y-auto space-y-3 text-sm bg-slate-50 dark:bg-slate-800/40 p-4 rounded-lg; }

/* Quick access grid */
.quick-access-grid { @apply grid gap-4 sm:grid-cols-2 lg:grid-cols-3 mt-4; }
.quick-access-item { @apply flex items-center gap-3 p-4 rounded-xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 no-underline text-slate-700 dark:text-slate-100 hover:shadow-md hover:bg-slate-50 dark:hover:bg-slate-700 transition text-sm; }
.quick-access-icon { @apply text-xl; }

/* Utility */
.empty-state { @apply text-center py-12 text-slate-500 dark:text-slate-400; }

/* Dark mode specific tweak for background */
body.dark, .dark body { background: radial-gradient(circle at 30% 30%, #1e293b, #0f172a); }

/* Hero and feature sections */
.hero {
  @apply relative overflow-hidden rounded-3xl border border-slate-200 dark:border-slate-800 bg-gradient-to-br from-indigo-50 via-white to-sky-50 dark:from-slate-900 dark:via-slate-900 dark:to-slate-800 p-10 md:p-16 shadow;
}
.hero::after {
  content: '';
  @apply absolute inset-0 pointer-events-none bg-[radial-gradient(ellipse_at_top_right,rgba(99,102,241,0.25),transparent_45%)] dark:bg-[radial-gradient(ellipse_at_top_right,rgba(99,102,241,0.25),transparent_35%)];
}
.hero .hero-parallax-layer { position:absolute; inset:0; overflow:hidden; pointer-events:none; }
.hero .hero-parallax-layer .blob { position:absolute; width:420px; height:420px; border-radius:50%; filter:blur(60px); opacity:0.30; will-change:transform; transition: transform .6s cubic-bezier(.16,.68,.43,.99); }
.dark .hero .hero-parallax-layer .blob { opacity:0.22; }
.hero .hero-parallax-layer .blob.indigo { background:linear-gradient(135deg,#6366f1,#818cf8); top:8%; left:6%; }
.hero .hero-parallax-layer .blob.cyan { background:linear-gradient(135deg,#06b6d4,#22d3ee); bottom:12%; right:10%; }
.hero-title { @apply text-4xl md:text-6xl font-extrabold tracking-tight text-slate-900 dark:text-white; }
.hero-gradient { @apply bg-gradient-to-r from-indigo-600 via-sky-500 to-cyan-400 bg-clip-text text-transparent; }
.hero-subtitle { @apply mt-4 text-lg md:text-xl text-slate-600 dark:text-slate-300 max-w-3xl; }
.hero-cta { @apply mt-8 flex flex-wrap gap-3; }
.hero-stats { @apply mt-10 grid gap-6 sm:grid-cols-3 text-center; }
.hero-stat { @apply p-4 rounded-xl bg-white/70 dark:bg-slate-800/70 border border-slate-200 dark:border-slate-700 shadow; }

.feature-grid { @apply grid gap-6 md:grid-cols-3 mt-10; }
.feature-card { @apply p-6 rounded-2xl bg-white dark:bg-slate-900/80 border border-slate-200 dark:border-slate-800 shadow; }
.feature-card h3 { @apply text-lg font-semibold mb-2; }
.feature-card p { @apply text-sm text-slate-600 dark:text-slate-400; }

/* ===== Animations ===== */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(6px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes slideIn {
  from { opacity: 0; transform: translateX(16px); }
  to { opacity: 1; transform: translateX(0); }
}
@keyframes pop {
  0% { transform: scale(.96); opacity: .6; }
  60% { transform: scale(1.02); opacity: 1; }
  100% { transform: scale(1); }
}
@keyframes shimmer {
  0% { background-position: -468px 0; }
  100% { background-position: 468px 0; }
}
@keyframes pulseGlow {
  0%, 100% { box-shadow: 0 0 0 0 rgba(99,102,241,0.35); }
  50% { box-shadow: 0 0 0 8px rgba(99,102,241,0.12); }
}
@keyframes float {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-6px); }
  100% { transform: translateY(0px); }
}
@keyframes float-alt {
  0% { transform: translateY(0px) rotate(0.5deg); }
  50% { transform: translateY(6px) rotate(-0.5deg); }
  100% { transform: translateY(0px) rotate(0.5deg); }
}

.animate-fade-in { animation: fadeIn .6s ease both; }
.animate-fade-up { animation: fadeUp .7s ease both; }
.animate-slide-in { animation: slideIn .6s ease both; }
.animate-pop { animation: pop .35s ease both; }
.animate-shimmer {
  background: linear-gradient(90deg, rgba(148,163,184,0.10) 25%, rgba(148,163,184,0.22) 37%, rgba(148,163,184,0.10) 63%);
  background-size: 400% 100%;
  animation: shimmer 1.2s ease-in-out infinite;
}
.hover-tilt { transition: transform .2s ease, box-shadow .2s ease; }
.hover-tilt:hover { transform: translateY(-4px) rotate3d(0.5, 1, 0, 2deg); box-shadow: 0 12px 24px rgba(2,6,23,0.12); }

/* Stagger utility: apply to container; children animate in sequence */
.stagger > * { animation: fadeUp .55s ease both; }
.stagger > *:nth-child(1) { animation-delay: .02s; }
.stagger > *:nth-child(2) { animation-delay: .06s; }
.stagger > *:nth-child(3) { animation-delay: .10s; }
.stagger > *:nth-child(4) { animation-delay: .14s; }
.stagger > *:nth-child(5) { animation-delay: .18s; }
.stagger > *:nth-child(6) { animation-delay: .22s; }

/* Contextual animations */
.upload-zone.drag-active { animation: pulseGlow 1.2s ease-in-out infinite; border-color: var(--color-primary) !important; }
.upload-zone.uploading { position: relative; }
.upload-zone.uploading::after {
  content: '';
  position: absolute; inset: 0; border-radius: 1rem; pointer-events: none;
  box-shadow: 0 0 0 2px rgba(99,102,241,0.25), 0 0 0 8px rgba(99,102,241,0.08);
  animation: pulseGlow 1.6s ease-in-out infinite;
}
.vital-icon.pulsing { animation: pulseGlow 1.2s ease-in-out infinite; }

/* Buttons micro-interaction */
.btn { will-change: transform; }
.btn:hover { transform: translateY(-1px); }
.btn:active { transform: translateY(0); }

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
}

/* Explicit opt-out toggle class set on <body> when user disables animations */
.no-animations * { animation: none !important; transition: none !important; }

/* Route transition classes */
.route-wrapper { position: relative; }
.route-screen { animation: fadeIn .45s ease; }
.route-exit { animation: fadeOut .35s ease forwards; }
@keyframes fadeOut { from { opacity:1; transform:translateY(0); } to { opacity:0; transform:translateY(6px); } }

/* Skeleton components */
.skeleton { @apply rounded-md bg-slate-200 dark:bg-slate-700 relative overflow-hidden; }
.skeleton.animate { animation: shimmer 1.4s linear infinite; background: linear-gradient(90deg, rgba(226,232,240,0.35) 0%, rgba(226,232,240,0.55) 50%, rgba(226,232,240,0.35) 100%); background-size: 400% 100%; }
.dark .skeleton.animate { background: linear-gradient(90deg, rgba(51,65,85,0.40) 0%, rgba(51,65,85,0.65) 50%, rgba(51,65,85,0.40) 100%); }
.skeleton-line { height: 0.75rem; margin-bottom: 0.5rem; }
.skeleton-circle { border-radius: 9999px; }

/* Scroll reveal base (elements start hidden) */
.reveal { opacity:0; transform: translateY(12px); transition: opacity .6s ease, transform .6s ease; }
.reveal.visible { opacity:1; transform: translateY(0); }

/* Parallax layers (placed inside hero) */
.hero-parallax-layer { position:absolute; inset:0; pointer-events:none; mix-blend-mode:overlay; }
.hero-parallax-layer .blob { position:absolute; width:420px; height:420px; border-radius:50%; filter:blur(60px); opacity:0.35; }
.hero-parallax-layer .blob.indigo { background: #6366f1; top:10%; left:8%; }
.hero-parallax-layer .blob.cyan { background: #06b6d4; bottom:15%; right:12%; }
.dark .hero-parallax-layer .blob.indigo { opacity:0.25; }
.dark .hero-parallax-layer .blob.cyan { opacity:0.25; }

/* Tilt base */
.tilt { transition: transform .3s ease, box-shadow .3s ease; will-change: transform; }
.tilt-active { box-shadow: 0 12px 32px -6px rgba(15,23,42,0.25); }

/* Scroll-based parallax enhancements */
.hero-parallax-layer .blob {
  will-change: transform;
  transition: transform 0.1s ease-out;
}

/* Enhanced scroll reveal with stagger */
.reveal {
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1), transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}
.reveal.visible {
  opacity: 1;
  transform: translateY(0);
}

/* Scroll-triggered floating animations */
@keyframes scrollFloat {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  25% { transform: translateY(-8px) rotate(0.5deg); }
  50% { transform: translateY(-4px) rotate(-0.5deg); }
  75% { transform: translateY(-12px) rotate(0.2deg); }
}

.scroll-float {
  animation: scrollFloat 6s ease-in-out infinite;
}

/* Smooth momentum scrolling on touch devices */
@media (pointer: coarse) {
  html {
    scroll-behavior: auto;
    -webkit-overflow-scrolling: touch;
  }
}

/* Floating assistant */
.floating-assistant { display:flex; align-items:flex-end; gap:10px; pointer-events:auto; }
.floating-assistant .assistant-avatar {
  width: 52px; height: 52px; border-radius: 9999px;
  display:flex; align-items:center; justify-content:center; font-size: 28px;
  background: linear-gradient(135deg,#eef2ff,#e0f2fe);
  border: 1px solid rgba(99,102,241,.25);
  box-shadow: 0 10px 20px rgba(2,6,23,.15);
  cursor: grab; user-select: none; animation: float 4.4s ease-in-out infinite;
}
.floating-assistant .assistant-avatar:active { cursor: grabbing; }
.floating-assistant .assistant-badge { position:absolute; transform: translate(18px,-16px); font-size: 10px; background:#0ea5e9; color:#fff; padding:2px 6px; border-radius:9999px; box-shadow:0 4px 10px rgba(14,165,233,.35); }
.floating-assistant .assistant-content {
  background: rgba(255,255,255,.95); color:#0f172a; border:1px solid rgba(15,23,42,.08);
  padding:10px 12px; border-radius:12px; min-width: 220px; max-width: 320px;
  box-shadow: 0 12px 28px rgba(2,6,23,.18); position: relative;
}
.dark .floating-assistant .assistant-content { background: rgba(15,23,42,.9); color:#e2e8f0; border-color: rgba(226,232,240,.08); }
.floating-assistant .assistant-content::after { content:""; position:absolute; left:-8px; bottom:16px; width:0; height:0; border-top:8px solid transparent; border-bottom:8px solid transparent; border-right:8px solid rgba(255,255,255,.95); }
.dark .floating-assistant .assistant-content::after { border-right-color: rgba(15,23,42,.9); }
.floating-assistant.collapsed .assistant-content { width: 56px; height: 20px; padding:6px; overflow: hidden; }
.assistant-header { display:flex; align-items:center; justify-content:space-between; gap:8px; font-size: 12px; margin-bottom:6px; opacity: .9; }
.assistant-actions { display:flex; gap:6px; }
.assistant-tip { font-size: 14px; line-height: 1.35; margin: 4px 0 8px 0; }
.assistant-nav { display:flex; gap:10px; justify-content:flex-end; margin-top:2px; }
.assistant-footer { display:flex; gap:10px; justify-content:space-between; margin-top:6px; }
.assistant-btn { background: transparent; border: 1px solid rgba(15,23,42,.15); color: inherit; border-radius: 8px; padding: 4px 8px; font-size: 12px; cursor: pointer; }
.assistant-btn:hover { background: rgba(15,23,42,.06); }
.dark .assistant-btn { border-color: rgba(226,232,240,.18); }
.dark .assistant-btn:hover { background: rgba(226,232,240,.06); }

@media (prefers-reduced-motion: reduce) {
  .floating-assistant .assistant-avatar { animation: none !important; }
}

/* ===== Sensor background & advanced visual layer ===== */
.sensor-bg { position: fixed; inset: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; overflow: visible; transform: translateZ(0); }
.sensor-bg--empty { z-index: -1; }
.sensor-bg__gradient { position: absolute; inset: 0; background: radial-gradient(1200px 600px at 10% 15%, rgba(99,102,241,0.08), transparent 12%), radial-gradient(900px 400px at 85% 80%, rgba(6,182,212,0.06), transparent 14%); mix-blend-mode: screen; pointer-events: none; }

.sensor-icon { position: absolute; transform-origin: center; transition: transform 280ms cubic-bezier(.16,.68,.43,.99), opacity 300ms ease; will-change: transform, opacity; display: flex; align-items: center; justify-content: center; pointer-events: auto; user-select: none; }
.sensor-icon__glyph { display:inline-block; font-size: 1rem; line-height:1; padding:8px; border-radius:999px; background: linear-gradient(180deg, rgba(255,255,255,0.8), rgba(255,255,255,0.5)); box-shadow: 0 6px 18px rgba(2,6,23,0.06); backdrop-filter: blur(4px); border: 1px solid rgba(255,255,255,0.35); }

.sensor-icon--lg .sensor-icon__glyph { font-size: 1.35rem; padding:10px; }
.sensor-icon--md .sensor-icon__glyph { font-size: 1rem; padding:8px; }
.sensor-icon--sm .sensor-icon__glyph { font-size: 0.85rem; padding:6px; }

.sensor-icon:hover .sensor-icon__glyph, .sensor-icon:focus .sensor-icon__glyph { transform: scale(1.08); box-shadow: 0 10px 26px rgba(2,6,23,0.12); }

.sensor-tooltip { position: absolute; left: 50%; transform: translateX(-50%) translateY(-8px); bottom: calc(100% + 8px); min-width: 140px; background: rgba(15,23,42,0.96); color: #fff; padding: 8px 10px; border-radius: 10px; font-size: 12px; text-align: center; box-shadow: 0 10px 30px rgba(2,6,23,0.28); opacity: 0; pointer-events: none; transition: opacity 180ms ease, transform 180ms ease; z-index: 3; }
.sensor-tooltip__title { font-weight: 600; text-transform: capitalize; margin-bottom: 4px; }
.sensor-tooltip__value { font-weight: 700; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, monospace; }
.sensor-tooltip .muted { opacity: 0.8; font-size: 11px; margin-top: 4px; color: rgba(255,255,255,0.82); }

.sensor-icon:hover .sensor-tooltip, .sensor-icon:focus .sensor-tooltip { opacity: 1; transform: translateX(-50%) translateY(-12px); }

/* soft depth layers with tiny glow */
.sensor-icon { mix-blend-mode: normal; }
.sensor-icon::after { content: ''; position: absolute; inset: -6px; border-radius: 999px; filter: blur(18px); opacity: 0.08; transition: opacity 180ms ease; pointer-events: none; }
.sensor-icon--lg::after { background: radial-gradient(circle, rgba(99,102,241,0.18), transparent 35%); }
.sensor-icon--md::after { background: radial-gradient(circle, rgba(6,182,212,0.12), transparent 30%); }
.sensor-icon--sm::after { background: radial-gradient(circle, rgba(99,102,241,0.06), transparent 25%); }
.sensor-icon:hover::after { opacity: 0.18; }

/* subtle idle float for each icon but varied by depth */
@keyframes sensorIdleFloat {
  0% { transform: translateY(0) rotate(0deg); }
  50% { transform: translateY(-6px) rotate(0.6deg); }
  100% { transform: translateY(0) rotate(0deg); }
}
.sensor-icon { animation: sensorIdleFloat 8s ease-in-out infinite; }
.sensor-icon[data-depth="0.15"] { animation-duration: 9.6s; }
.sensor-icon[data-depth="0.28"] { animation-duration: 7.8s; }
.sensor-icon[data-depth="0.42"] { animation-duration: 6.8s; }
.sensor-icon[data-depth="0.71"] { animation-duration: 5.8s; }

/* respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .sensor-icon { animation: none !important; transition: none !important; }
  .sensor-bg { transform: none !important; }
}

/* make sure icons stay unobtrusive on very small devices */
@media (max-width: 640px) {
  .sensor-icon__glyph { padding: 6px; font-size: 0.9rem; }
  .sensor-tooltip { display: none; }
}


/* Reopen button for assistant when hidden */
.assistant-reopen {
  width: 44px; height: 44px; border-radius: 9999px;
  display:flex; align-items:center; justify-content:center;
  font-size: 22px; line-height: 1;
  background: linear-gradient(135deg,#eef2ff,#e0f2fe);
  border: 1px solid rgba(99,102,241,.25);
  box-shadow: 0 10px 20px rgba(2,6,23,.15);
  cursor: pointer; user-select: none;
  transition: transform .15s ease, box-shadow .15s ease;
  animation: float 4s ease-in-out infinite;
}
.assistant-reopen:hover { transform: translateY(-2px); box-shadow: 0 14px 28px rgba(2,6,23,.18); }
.assistant-reopen:active { transform: translateY(0); }

/* Flight entrance animation */
@keyframes assistantFlightIn {
  0% { transform: translate(-80px, 60px) scale(.6) rotate(-8deg); opacity:0; }
  55% { opacity:1; }
  70% { transform: translate(10px, -6px) scale(1.05) rotate(4deg); }
  100% { transform: translate(0,0) scale(1) rotate(0deg); opacity:1; }
}
.floating-assistant.flight-in { animation: assistantFlightIn .95s cubic-bezier(.16,.68,.43,.99) both; }
@media (prefers-reduced-motion: reduce) {
  .floating-assistant.flight-in { animation: none !important; }
}
